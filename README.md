# 🎲 Random Picker - 랜덤 뽑기

랜덤 뽑기. 오늘의 결정, 팀 나누기 대신해 드립니다.

## ✨ 주요 기능

### 📝 2단계 UI 구조
- **1단계 - 데이터 입력**: 직접 입력 + Google Sheets + 저장된 데이터 미리보기
- **2단계 - 랜덤 추첨**: 저장된 데이터로 공정한 랜덤 선택

### 📝 데이터 입력 방식
- **직접 입력 (테이블 형식)**: Google Sheets처럼 테이블로 데이터 입력
  - 컬럼 추가/삭제/이름 변경
  - 행 추가/편집/삭제
  - 텍스트, 이미지 URL, 유튜브 링크 모두 지원
- **Google Sheets 불러오기**: 대량의 데이터를 Google Sheets로 관리
  - URL 입력만으로 간편하게 데이터 불러오기
  - 자동으로 통합 데이터에 저장

### 💾 통합 데이터 관리
- 직접 입력과 Google Sheets 데이터를 **하나로 통합 관리**
- 로컬스토리지에 자동 저장
- 페이지를 새로고침해도 데이터 유지
- 저장된 데이터 미리보기 패널에서 확인/편집/삭제
- 삭제 버튼으로 간편하게 초기화

### 🎨 미디어 자동 인식
- **이미지**: URL을 입력하면 자동으로 이미지 렌더링
- **유튜브**: 유튜브 링크를 입력하면 동영상 플레이어로 재생
- **일반 텍스트**: 일반 텍스트나 링크 표시

### 📊 선택 이력
- 최근 5개의 선택 이력 자동 저장
- 언제, 무엇을 선택했는지 추적 가능
- 출처(직접입력/Sheets) 구분 표시

### 🎯 랜덤 추첨 (룰렛 효과)
- 🎰 **룰렛 애니메이션**: 마치 슬롯머신처럼 후보들이 빠르게 변함
- ⚡ **점진적 감속**: 빠르게 시작해서 점점 느려지는 현실적인 효과
- 🎉 **화려한 결과 연출**: 최종 선택 시 특별한 애니메이션
- 📊 출처별 개수 표시 (직접입력/Sheets)
- 📈 스핀 카운터로 진행 상황 표시

## 🚀 시작하기

### 설치

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev
```

브라우저에서 [http://localhost:3000](http://localhost:3000) 열기

### 빌드

```bash
# 프로덕션 빌드
npm run build

# 빌드된 앱 실행
npm start
```

## 📖 사용 방법

### 🎯 전체 흐름

1. **데이터 입력 화면** → 데이터 입력/편집
2. **랜덤 추첨 화면** → 저장된 데이터로 추첨

### 1단계: 데이터 입력

#### A. 직접 입력 (테이블 형식)

테이블 형식으로 데이터를 입력할 수 있습니다:

1. **컬럼 설정**
   - 기본 3개의 컬럼이 제공됩니다
   - "컬럼 추가" 버튼으로 필요한 만큼 추가
   - 컬럼 이름을 클릭하여 수정 가능 (예: "이미지", "링크", "설명")
   - X 버튼으로 컬럼 삭제 (최소 1개 유지)

2. **데이터 입력**
   - 제목(필수) + 각 컬럼에 데이터 입력
   - 이미지 URL, 유튜브 링크, 일반 텍스트 모두 가능
   - "추가" 버튼으로 행 추가
   - 자동으로 통합 데이터에 저장됨

3. **편집 및 삭제**
   - 편집 버튼: 기존 데이터 수정
   - 삭제 버튼: 행 삭제
   - 모든 변경사항 자동 저장

**예시 테이블:**
| NO | 제목      | 이미지 | 영상 URL | 설명 |
|----|----------|--------|----------|------|
| 1  | 맛집1    | https://example.com/image.jpg | https://youtube.com/watch?v=... | 맛있어요 |
| 2  | 맛집2    | 사진URL | 유튜브링크 | 추천! |
| •  | [입력]   | [입력] | [입력]   | [입력] |

#### B. Google Sheets 불러오기

#### Google Sheets 준비
```
| NO | 제목      | 카테고리 | 링크                           |
|----|----------|---------|--------------------------------|
| 1  | 항목 1   | 타입A    | https://example.com/image.jpg  |
| 2  | 항목 2   | 타입B    | https://youtube.com/watch?v=...  |
```

**중요:**
- 첫 번째 행은 헤더
- 첫 번째 컬럼(A열): 번호 또는 ID
- 두 번째 컬럼(B열): 제목 (크게 표시됨)
- 나머지 컬럼: 속성들 (자동으로 미디어 인식)

#### 공유 설정
1. Google Sheets 열기
2. 우측 상단 "공유" 버튼
3. "링크가 있는 모든 사용자" 권한 설정
4. 권한: "뷰어"

#### 데이터 불러오기
1. Google Sheets URL 복사
2. "Google Sheets 불러오기" 섹션에 붙여넣기
3. "데이터 불러오기" 버튼 클릭
4. 불러온 데이터가 자동으로 통합 데이터에 추가됨

#### C. 저장된 데이터 미리보기

- 직접 입력과 Google Sheets에서 가져온 모든 데이터 표시
- 출처별로 색상 구분 (보라색: 직접입력, 초록색: Sheets)
- 각 항목 편집/삭제 가능
- "더보기" 버튼으로 상세 정보 확인

### 2단계: 랜덤 추첨 (룰렛)

1. 화면 상단의 **"랜덤 추첨"** 탭 클릭
2. 전체 데이터 개수 및 출처별 개수 확인
3. **"🎰 추첨!"** 버튼 클릭
4. 🎰 **룰렛 애니메이션 감상**
   - 여러 후보들이 빠르게 변경됨
   - 시간이 지날수록 점점 느려짐 (3.5초)
   - 스핀 카운터로 현재 진행 상황 확인
   - 최종 선택 시 화려한 연출!
5. 결과 확인
   - 🎉 "선택 완료!" 애니메이션과 함께 표시
   - 제목과 출처 표시
   - 이미지: 자동으로 이미지 표시
   - 유튜브: 동영상 플레이어로 재생 가능
   - 텍스트/링크: 일반 텍스트로 표시
6. 선택 이력은 오른쪽 패널에 자동 저장

## 🛠️ 기술 스택

- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Icons**: React Icons
- **Storage**: Browser LocalStorage
- **Data Source**: Google Sheets (TSV Export)

## 📁 프로젝트 구조

```
random-picker/
├── app/
│   ├── layout.tsx          # 루트 레이아웃
│   ├── page.tsx            # 메인 페이지 (2단계 UI + 통합 데이터 관리)
│   └── globals.css         # 글로벌 스타일
├── components/
│   ├── ManualInput.tsx     # 직접 입력 (테이블 형식)
│   ├── GoogleSheetsInput.tsx # Google Sheets 불러오기
│   ├── DataPreview.tsx     # 저장된 데이터 미리보기
│   ├── RandomPicker.tsx    # 랜덤 추첨
│   ├── PickHistory.tsx     # 선택 이력
│   └── MediaRenderer.tsx   # 미디어 렌더링 (이미지/유튜브)
├── lib/
│   ├── localStorage.ts     # 로컬스토리지 유틸리티 (통합 데이터 관리)
│   ├── googleSheets.ts     # Google Sheets API
│   └── mediaDetector.ts    # 미디어 타입 감지
├── types/
│   └── index.ts           # TypeScript 타입 정의
└── package.json
```

## 🎨 주요 컴포넌트

### 1. ManualInput (직접 입력)
- Google Sheets 스타일의 테이블 UI
- 동적 컬럼 추가/삭제/이름 변경
- 인라인 편집 지원
- 자동으로 통합 데이터에 저장

### 2. GoogleSheetsInput (Google Sheets 불러오기)
- URL만으로 간편한 데이터 불러오기
- 자동 TSV 파싱
- 통합 데이터에 자동 추가

### 3. DataPreview (저장된 데이터 미리보기)
- 모든 데이터를 한눈에 확인
- 출처별 색상 구분 (직접입력/Sheets)
- 편집/삭제 기능
- 더보기로 상세 정보 확인

### 4. RandomPicker (랜덤 추첨 - 룰렛)
- 🎰 **룰렛 애니메이션**: 슬롯머신 스타일의 시각 효과
- ⚡ **가변 속도**: 빠르게 시작 → 점진적 감속 → 최종 선택
- 🎨 **단계별 효과**:
  - 초반(0-30%): 매우 빠르게 (30-50ms)
  - 중반(30-70%): 점점 느려짐 (50-200ms)
  - 후반(70-100%): 매우 느리게 (200-800ms)
- 📊 출처별 개수 및 스핀 카운터 표시
- 🎉 최종 선택 시 화려한 결과 연출

### 5. MediaRenderer (미디어 렌더링)
URL이나 텍스트를 자동으로 인식하여 적절한 형태로 렌더링:
- 유튜브 링크 → 동영상 플레이어
- 이미지 URL → 이미지
- 일반 URL → 클릭 가능한 링크
- 텍스트 → 일반 텍스트

### 통합 데이터 관리 (LocalStorage)
- 직접 입력과 Google Sheets 데이터를 **하나로 통합**
- 모든 데이터를 브라우저에 저장
- 자동 저장/불러오기
- 출처(source) 정보 함께 저장
- 개별 삭제 또는 전체 삭제 가능

## 🌐 배포

### Vercel (권장)
```bash
# Vercel CLI 설치
npm i -g vercel

# 배포
vercel
```

### 기타 플랫폼
- Netlify
- AWS Amplify
- GitHub Pages (Static Export)

## 📝 라이선스

MIT License

## 🤝 기여

이슈와 Pull Request는 언제나 환영합니다!

## 🔗 관련 링크

- [Next.js Documentation](https://nextjs.org/docs)
- [Tailwind CSS](https://tailwindcss.com)
- [Google Sheets API](https://developers.google.com/sheets/api)

---

Made with ❤️ for better decisions

